from flask import Flask, render_template, request, redirect, url_forfrom flask_wtf import FlaskForm, CSRFProtectfrom wtforms import StringField, SubmitFieldfrom wtforms.validators import DataRequiredapp = Flask(__name__)app.config['SECRET_KEY'] = 'Hit//123@213'# csrf = CSRFProtect(app)all_books = []class BookForm(FlaskForm):    book = StringField('Book Name', validators=[DataRequired()])    submit = SubmitField('Submit')@app.route('/')def home():    # for book in all_books:    #     all_books.remove(book)    lenght = len(all_books)    return render_template('index.html', len=lenght)@app.route("/add", methods=["GET", "POST"])def add():    if request.method == "POST":        new_book = {            "title": request.form["title"],            "author": request.form["author"],            "rating": request.form["rating"]        }        all_books.append(new_book)        return render_template('index.html', books=all_books)    return render_template("add.html")@app.route("/delete/<title>", methods=["GET", "POST"])def delete(title):    global all_books    if request.method == "POST":        for i in all_books:            if i['title'] == title:                all_books.remove(i)                return render_template('index.html', books=all_books)        return "Book not found"if __name__ == "__main__":    app.run(debug=True)